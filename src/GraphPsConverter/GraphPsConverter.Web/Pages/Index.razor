@page "/"
@using GraphPsConverter.Web.Models

<PageTitle>Index</PageTitle>

<h1>Hello, world!</h1>

Welcome to your new app.

<SurveyPrompt Title="How is Blazor working for you?" />
<button @onclick="DoConvert">Convert</button>

<textarea @bind:event="oninput" @bind=@dataModel.SourceScript></textarea>
<textarea @bind:event="oninput" @bind=@dataModel.ConvertedScript></textarea>


@code {
    private ScriptConverterModel dataModel = new();

    private void DoConvert()
    {
        GraphPsConverter.Core.Converter converter = new();
        dataModel.ConvertedScript = converter.ConvertToGraphPowerShell(dataModel.SourceScript);
    }

}